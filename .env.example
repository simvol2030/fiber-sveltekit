# =============================================================================
# Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Environment: development | production
NODE_ENV=development

# Backend server port
PORT=3001

# Backend server host (0.0.0.0 for Docker, 127.0.0.1 for local only)
HOST=0.0.0.0

# Prefork mode: spawns multiple processes for high-load scenarios
# WARNING: Only use with PostgreSQL! SQLite doesn't support multi-process access
# Set to "true" to enable (production with PostgreSQL only)
PREFORK=false

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# SQLite (development)
DATABASE_URL=sqlite:./data/db/sqlite/app.db

# PostgreSQL (production) - uncomment and configure:
# DATABASE_URL=postgresql://app:your-password@localhost:5432/app?sslmode=disable

# PostgreSQL credentials (only needed with --profile postgres)
POSTGRES_USER=app
POSTGRES_PASSWORD=change-me-in-production
POSTGRES_DB=app

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# SECURITY: In production, JWT_SECRET MUST be:
# - At least 32 characters long
# - Randomly generated (use: openssl rand -base64 32)
# - Never shared or committed to version control
JWT_SECRET=dev-secret-change-in-production-min-32-chars

# Access token expiration (e.g., 15m, 1h, 24h)
JWT_EXPIRES_IN=15m

# Refresh token expiration in days
REFRESH_TOKEN_EXPIRES_DAYS=7

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins (no wildcards in production!)
CORS_ORIGINS=http://localhost:3000

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
# API URL for frontend to call backend
PUBLIC_API_URL=http://localhost:3001

# Frontend origin (for CORS and cookies)
ORIGIN=http://localhost:3000

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log levels: debug | info | warn | error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Email Configuration (SMTP)
# -----------------------------------------------------------------------------
# In development, emails are logged to console (MockSender)
# In production (NODE_ENV=production), configure SMTP settings below

# Sender info
SMTP_FROM_NAME=My App
SMTP_FROM_ADDRESS=noreply@example.com

# SMTP server settings
SMTP_HOST=smtp.example.com
SMTP_USER=
SMTP_PASSWORD=

# -----------------------------------------------------------------------------
# File Storage Configuration
# -----------------------------------------------------------------------------
# By default, files are stored locally in ./data/uploads
# To use S3 (or S3-compatible services like MinIO, DigitalOcean Spaces):

# S3_BUCKET=my-bucket
# S3_REGION=us-east-1
# S3_ENDPOINT=                    # Optional: for S3-compatible services
# S3_ACCESS_KEY=
# S3_SECRET_KEY=

# -----------------------------------------------------------------------------
# Frontend URL (for password reset links, etc.)
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:3000
